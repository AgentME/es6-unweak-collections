(function(e){function f(a,c){function d(a){if(!this||this.constructor!==d)return new d(a);this._keys=[];this._values=[];this.objectOnly=c;if(a){var b;if(this.add)for(b=a.length;b--;)this.add(a[b]);else for(b=a.length;b--;)this.set(a[b][0],a[b][1])}}c||s(a,"size",{get:t});a.constructor=d;d.prototype=a;return d}function g(a){this.has(a)&&(this._keys.splice(b,1),this._values.splice(b,1));return-1<b}function k(a){return this.has(a)?this._values[b]:void 0}function l(a,c){if(this.objectOnly&&c!==Object(c))throw new TypeError("Invalid value used as weak collection key");
if(c!=c||0===c)for(b=a.length;b--&&!u(a[b],c););else b=a.indexOf(c);return-1<b}function m(a){return l.call(this,this._values,a)}function n(a){return l.call(this,this._keys,a)}function p(a,c){this.has(a)?this._values[b]=c:this._values[this._keys.push(a)-1]=c;return this}function q(a){this.has(a)||this._values.push(a);return this}function h(){this._values.length=0}function r(){return this._values.slice()}function v(){return this._keys.slice()}function t(){return this._values.length}function w(a,b){var d=
this,e=d._values.slice();d._keys.slice().forEach(function(f,g){a.call(b,f,e[g],d)})}function x(a,b){var d=this;d._values.slice().forEach(function(e){a.call(b,e,e,d)})}var b,s=Object.defineProperty,u=Object.is;"undefined"==typeof WeakMap&&(e.WeakMap=f({"delete":g,clear:h,get:k,has:n,set:p},!0));"undefined"==typeof Map&&(e.Map=f({"delete":g,has:n,get:k,set:p,keys:v,values:r,forEach:w,clear:h}));"undefined"==typeof Set&&(e.Set=f({has:m,add:q,"delete":g,clear:h,values:r,forEach:x}));"undefined"==typeof WeakSet&&
(e.WeakSet=f({"delete":g,add:q,clear:h,has:m},!0))})("undefined"==typeof exports?window:global);
